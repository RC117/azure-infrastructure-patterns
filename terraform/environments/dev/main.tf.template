terraform {
  required_version = ">= 1.6.0"
}

locals {
  name_prefix = "${var.company_name}-${var.environment}"
  
  common_tags = merge(var.common_tags, {
    Environment = var.environment
    Terraform   = "true"
  })
}

# Main resource group
resource "azurerm_resource_group" "main" {
  name     = "${local.name_prefix}-rg"
  location = var.location
  tags     = local.common_tags
}

# TODO: Add module calls for:
# - Networking (VNet, subnets, NSGs)
# - Compute (VMSS with blue-green capability) 
# - Database (PostgreSQL with high availability)
# - Storage (Storage accounts with proper security)
# - Security (Key Vault, private endpoints)
# - Monitoring (Log Analytics, Application Insights)
